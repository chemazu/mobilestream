{"ast":null,"code":"import { setContext, getScope, getContext, computed, signal, effect as effect$1, onError, peek } from '@maverick-js/signals';\nexport { computed, createScope, getScope, isReadSignal, isWriteSignal, onDispose, onError, peek, readonly, root, scoped, signal, tick, untrack } from '@maverick-js/signals';\nimport { computedMap, computedKeyedMap } from '@maverick-js/signals/map';\n\n// src/runtime/accessors.ts\nfunction createAccessors(record) {\n  const accessors = {};\n  for (const name of Object.keys(record)) {\n    Object.defineProperty(accessors, name, {\n      configurable: true,\n      enumerable: true,\n      get: record[name],\n      set: record[name].set\n    });\n  }\n  return accessors;\n}\n\n// src/std/unit.ts\nfunction noop(...args) {}\nfunction isNull(value) {\n  return value === null;\n}\nfunction isUndefined(value) {\n  return typeof value === \"undefined\";\n}\nfunction isNil(value) {\n  return isNull(value) || isUndefined(value);\n}\nfunction isObject(value) {\n  return value?.constructor === Object;\n}\nfunction isNumber(value) {\n  return typeof value === \"number\" && !Number.isNaN(value);\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction createRegex(regex) {\n  return isString(regex) ? new RegExp(regex) : regex;\n}\nfunction isWindow(value) {\n  return value === window;\n}\nfunction createContext(provide) {\n  return {\n    id: Symbol(),\n    provide\n  };\n}\nfunction provideContext(context, value, scope = getScope()) {\n  if (!scope) {\n    throw Error(\"[maverick] attempting to provide context outside `root` or `setup` function\");\n  }\n  const hasProvidedValue = !isUndefined(value);\n  if (!hasProvidedValue && !context.provide) {\n    throw Error(\"[maverick] context can not be provided without a value or `provide` function\");\n  }\n  setContext(context.id, hasProvidedValue ? value : context.provide?.(), scope);\n}\nfunction useContext(context) {\n  const value = getContext(context.id);\n  if (isUndefined(value)) {\n    throw Error(\"[maverick] attempting to use context without providing first\");\n  }\n  return value;\n}\nfunction hasProvidedContext(context) {\n  return !isUndefined(getContext(context.id));\n}\n\n// src/runtime/store.ts\nvar StoreFactory = class {\n  constructor(record) {\n    this.id = Symbol(\"STORE\");\n    this.record = record;\n    this._descriptors = Object.getOwnPropertyDescriptors(record);\n  }\n  create() {\n    const store = {},\n      state = new Proxy(store, {\n        get: (_, prop) => store[prop]()\n      });\n    for (const name of Object.keys(this.record)) {\n      const getter = this._descriptors[name].get;\n      store[name] = getter ? computed(getter.bind(state)) : signal(this.record[name]);\n    }\n    return store;\n  }\n  reset(record, filter) {\n    for (const name of Object.keys(record)) {\n      if (!this._descriptors[name].get && (!filter || filter(name))) {\n        record[name].set(this.record[name]);\n      }\n    }\n  }\n};\nfunction useStore(store) {\n  return useContext(store);\n}\n\n// src/runtime/reactivity.ts\nvar effect = effect$1;\n\n// src/std/signal.ts\nfunction unwrap(fn) {\n  return isFunction(fn) ? fn() : fn;\n}\nfunction unwrapDeep(fn) {\n  let value = fn;\n  while (typeof value === \"function\") value = value();\n  return value;\n}\n\n// src/runtime/components/ErrorBoundary.ts\nfunction ErrorBoundary(props) {\n  const $e = signal(null);\n  const $error = () => $e();\n  $error.handled = () => $e.set(null);\n  return computed(() => {\n    const $children = unwrap(props.$children);\n    onError(error => {\n      if ($children.length === 0) console.error(error);\n      $e.set(error);\n      props.onError?.(error, $error.handled);\n    });\n    return isFunction($children) && $children.length > 0 ? peek(() => $children($error)) : $children;\n  }, {\n    initial: null\n  });\n}\nfunction For(props) {\n  return computedMap(() => unwrap(props.each), unwrap(props.$children), {\n    id: \"For\"\n  });\n}\nfunction ForKeyed(props) {\n  return computedKeyedMap(() => unwrap(props.each), unwrap(props.$children), {\n    id: \"ForKeyed\"\n  });\n}\nexport { ErrorBoundary, For, ForKeyed, StoreFactory, createAccessors, createContext, createRegex, effect, hasProvidedContext, isArray, isBoolean, isFunction, isNil, isNull, isNumber, isObject, isString, isUndefined, isWindow, noop, provideContext, unwrap, unwrapDeep, useContext, useStore };","map":{"version":3,"names":["setContext","getScope","getContext","computed","signal","effect","effect$1","onError","peek","createScope","isReadSignal","isWriteSignal","onDispose","readonly","root","scoped","tick","untrack","computedMap","computedKeyedMap","createAccessors","record","accessors","name","Object","keys","defineProperty","configurable","enumerable","get","set","noop","args","isNull","value","isUndefined","isNil","isObject","constructor","isNumber","Number","isNaN","isString","isBoolean","isFunction","isArray","Array","createRegex","regex","RegExp","isWindow","window","createContext","provide","id","Symbol","provideContext","context","scope","Error","hasProvidedValue","useContext","hasProvidedContext","StoreFactory","_descriptors","getOwnPropertyDescriptors","create","store","state","Proxy","_","prop","getter","bind","reset","filter","useStore","unwrap","fn","unwrapDeep","ErrorBoundary","props","$e","$error","handled","$children","error","length","console","initial","For","each","ForKeyed"],"sources":["/Users/user/Documents/mobilestreamapp/client/node_modules/maverick.js/dist/dev/chunks/chunk-NQ7TQAU7.js"],"sourcesContent":["import { setContext, getScope, getContext, computed, signal, effect as effect$1, onError, peek } from '@maverick-js/signals';\nexport { computed, createScope, getScope, isReadSignal, isWriteSignal, onDispose, onError, peek, readonly, root, scoped, signal, tick, untrack } from '@maverick-js/signals';\nimport { computedMap, computedKeyedMap } from '@maverick-js/signals/map';\n\n// src/runtime/accessors.ts\nfunction createAccessors(record) {\n  const accessors = {};\n  for (const name of Object.keys(record)) {\n    Object.defineProperty(accessors, name, {\n      configurable: true,\n      enumerable: true,\n      get: record[name],\n      set: record[name].set\n    });\n  }\n  return accessors;\n}\n\n// src/std/unit.ts\nfunction noop(...args) {\n}\nfunction isNull(value) {\n  return value === null;\n}\nfunction isUndefined(value) {\n  return typeof value === \"undefined\";\n}\nfunction isNil(value) {\n  return isNull(value) || isUndefined(value);\n}\nfunction isObject(value) {\n  return value?.constructor === Object;\n}\nfunction isNumber(value) {\n  return typeof value === \"number\" && !Number.isNaN(value);\n}\nfunction isString(value) {\n  return typeof value === \"string\";\n}\nfunction isBoolean(value) {\n  return typeof value === \"boolean\";\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction createRegex(regex) {\n  return isString(regex) ? new RegExp(regex) : regex;\n}\nfunction isWindow(value) {\n  return value === window;\n}\nfunction createContext(provide) {\n  return { id: Symbol(), provide };\n}\nfunction provideContext(context, value, scope = getScope()) {\n  if (!scope) {\n    throw Error(\"[maverick] attempting to provide context outside `root` or `setup` function\");\n  }\n  const hasProvidedValue = !isUndefined(value);\n  if (!hasProvidedValue && !context.provide) {\n    throw Error(\"[maverick] context can not be provided without a value or `provide` function\");\n  }\n  setContext(context.id, hasProvidedValue ? value : context.provide?.(), scope);\n}\nfunction useContext(context) {\n  const value = getContext(context.id);\n  if (isUndefined(value)) {\n    throw Error(\"[maverick] attempting to use context without providing first\");\n  }\n  return value;\n}\nfunction hasProvidedContext(context) {\n  return !isUndefined(getContext(context.id));\n}\n\n// src/runtime/store.ts\nvar StoreFactory = class {\n  constructor(record) {\n    this.id = Symbol(\"STORE\" );\n    this.record = record;\n    this._descriptors = Object.getOwnPropertyDescriptors(record);\n  }\n  create() {\n    const store = {}, state = new Proxy(store, { get: (_, prop) => store[prop]() });\n    for (const name of Object.keys(this.record)) {\n      const getter = this._descriptors[name].get;\n      store[name] = getter ? computed(getter.bind(state)) : signal(this.record[name]);\n    }\n    return store;\n  }\n  reset(record, filter) {\n    for (const name of Object.keys(record)) {\n      if (!this._descriptors[name].get && (!filter || filter(name))) {\n        record[name].set(this.record[name]);\n      }\n    }\n  }\n};\nfunction useStore(store) {\n  return useContext(store);\n}\n\n// src/runtime/reactivity.ts\nvar effect = effect$1;\n\n// src/std/signal.ts\nfunction unwrap(fn) {\n  return isFunction(fn) ? fn() : fn;\n}\nfunction unwrapDeep(fn) {\n  let value = fn;\n  while (typeof value === \"function\")\n    value = value();\n  return value;\n}\n\n// src/runtime/components/ErrorBoundary.ts\nfunction ErrorBoundary(props) {\n  const $e = signal(null);\n  const $error = () => $e();\n  $error.handled = () => $e.set(null);\n  return computed(\n    () => {\n      const $children = unwrap(props.$children);\n      onError((error) => {\n        if ($children.length === 0)\n          console.error(error);\n        $e.set(error);\n        props.onError?.(error, $error.handled);\n      });\n      return isFunction($children) && $children.length > 0 ? peek(() => $children($error)) : $children;\n    },\n    { initial: null }\n  );\n}\nfunction For(props) {\n  return computedMap(\n    () => unwrap(props.each),\n    unwrap(props.$children),\n    { id: \"For\" } \n  );\n}\nfunction ForKeyed(props) {\n  return computedKeyedMap(\n    () => unwrap(props.each),\n    unwrap(props.$children),\n    { id: \"ForKeyed\" } \n  );\n}\n\nexport { ErrorBoundary, For, ForKeyed, StoreFactory, createAccessors, createContext, createRegex, effect, hasProvidedContext, isArray, isBoolean, isFunction, isNil, isNull, isNumber, isObject, isString, isUndefined, isWindow, noop, provideContext, unwrap, unwrapDeep, useContext, useStore };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}