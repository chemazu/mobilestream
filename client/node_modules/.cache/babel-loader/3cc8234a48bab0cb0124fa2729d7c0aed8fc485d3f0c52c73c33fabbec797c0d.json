{"ast":null,"code":"import { listenEvent } from 'maverick.js/std';\nimport { $ as canUsePictureInPicture } from '../../media-core.js';\nclass VideoPictureInPicture {\n  constructor(_video, _media) {\n    this._video = _video;\n    this._media = _media;\n    listenEvent(this._video, \"enterpictureinpicture\", this._onEnter.bind(this));\n    listenEvent(this._video, \"leavepictureinpicture\", this._onExit.bind(this));\n  }\n  get active() {\n    return document.pictureInPictureElement === this._video;\n  }\n  get supported() {\n    return canUsePictureInPicture(this._video);\n  }\n  async enter() {\n    return this._video.requestPictureInPicture();\n  }\n  exit() {\n    return document.exitPictureInPicture();\n  }\n  _onEnter(event) {\n    this._onChange(true, event);\n  }\n  _onExit(event) {\n    this._onChange(false, event);\n  }\n  _onChange = (active, event) => {\n    this._media.delegate._dispatch(\"picture-in-picture-change\", {\n      detail: active,\n      trigger: event\n    });\n  };\n}\nexport { VideoPictureInPicture as V };","map":{"version":3,"names":["listenEvent","$","canUsePictureInPicture","VideoPictureInPicture","constructor","_video","_media","_onEnter","bind","_onExit","active","document","pictureInPictureElement","supported","enter","requestPictureInPicture","exit","exitPictureInPicture","event","_onChange","delegate","_dispatch","detail","trigger","V"],"sources":["/Users/user/Documents/mobilestreamapp/client/node_modules/vidstack/dist/dev/providers/video/picture-in-picture.js"],"sourcesContent":["import { listenEvent } from 'maverick.js/std';\nimport { $ as canUsePictureInPicture } from '../../media-core.js';\n\nclass VideoPictureInPicture {\n  constructor(_video, _media) {\n    this._video = _video;\n    this._media = _media;\n    listenEvent(this._video, \"enterpictureinpicture\", this._onEnter.bind(this));\n    listenEvent(this._video, \"leavepictureinpicture\", this._onExit.bind(this));\n  }\n  get active() {\n    return document.pictureInPictureElement === this._video;\n  }\n  get supported() {\n    return canUsePictureInPicture(this._video);\n  }\n  async enter() {\n    return this._video.requestPictureInPicture();\n  }\n  exit() {\n    return document.exitPictureInPicture();\n  }\n  _onEnter(event) {\n    this._onChange(true, event);\n  }\n  _onExit(event) {\n    this._onChange(false, event);\n  }\n  _onChange = (active, event) => {\n    this._media.delegate._dispatch(\"picture-in-picture-change\", {\n      detail: active,\n      trigger: event\n    });\n  };\n}\n\nexport { VideoPictureInPicture as V };\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,CAAC,IAAIC,sBAAsB,QAAQ,qBAAqB;AAEjE,MAAMC,qBAAqB,CAAC;EAC1BC,WAAWA,CAACC,MAAM,EAAEC,MAAM,EAAE;IAC1B,IAAI,CAACD,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,MAAM,GAAGA,MAAM;IACpBN,WAAW,CAAC,IAAI,CAACK,MAAM,EAAE,uBAAuB,EAAE,IAAI,CAACE,QAAQ,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3ER,WAAW,CAAC,IAAI,CAACK,MAAM,EAAE,uBAAuB,EAAE,IAAI,CAACI,OAAO,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;EAC5E;EACA,IAAIE,MAAMA,CAAA,EAAG;IACX,OAAOC,QAAQ,CAACC,uBAAuB,KAAK,IAAI,CAACP,MAAM;EACzD;EACA,IAAIQ,SAASA,CAAA,EAAG;IACd,OAAOX,sBAAsB,CAAC,IAAI,CAACG,MAAM,CAAC;EAC5C;EACA,MAAMS,KAAKA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACT,MAAM,CAACU,uBAAuB,CAAC,CAAC;EAC9C;EACAC,IAAIA,CAAA,EAAG;IACL,OAAOL,QAAQ,CAACM,oBAAoB,CAAC,CAAC;EACxC;EACAV,QAAQA,CAACW,KAAK,EAAE;IACd,IAAI,CAACC,SAAS,CAAC,IAAI,EAAED,KAAK,CAAC;EAC7B;EACAT,OAAOA,CAACS,KAAK,EAAE;IACb,IAAI,CAACC,SAAS,CAAC,KAAK,EAAED,KAAK,CAAC;EAC9B;EACAC,SAAS,GAAGA,CAACT,MAAM,EAAEQ,KAAK,KAAK;IAC7B,IAAI,CAACZ,MAAM,CAACc,QAAQ,CAACC,SAAS,CAAC,2BAA2B,EAAE;MAC1DC,MAAM,EAAEZ,MAAM;MACda,OAAO,EAAEL;IACX,CAAC,CAAC;EACJ,CAAC;AACH;AAEA,SAASf,qBAAqB,IAAIqB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}