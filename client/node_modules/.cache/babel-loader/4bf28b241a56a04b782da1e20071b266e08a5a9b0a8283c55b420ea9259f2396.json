{"ast":null,"code":"import { onDispose } from 'maverick.js';\nimport { a0 as canUseVideoPresentation, $ as canUsePictureInPicture, Y as canPlayHLSNatively, a1 as ATTACH_VIDEO } from '../../media-core.js';\nimport { H as HTMLMediaProvider } from '../html/provider.js';\nimport { N as NativeHLSTextTracks } from './native-hls-text-tracks.js';\nimport { V as VideoPictureInPicture } from './picture-in-picture.js';\nimport { V as VideoPresentation, F as FullscreenPresentationAdapter, P as PIPPresentationAdapter } from './presentation/video-presentation.js';\nimport 'maverick.js/element';\nimport 'maverick.js/std';\nimport '../type-check.js';\nimport '../audio/loader.js';\nimport 'maverick.js/dom';\nimport '../hls/loader.js';\nimport './loader.js';\nimport '../html/html–media-events.js';\nimport '../hls/hls.js';\nimport '../../media-ui.js';\nimport '../../icons/icon.js';\nimport 'media-captions';\nimport '../html/native-audio-tracks.js';\nclass VideoProvider extends HTMLMediaProvider {\n  $$PROVIDER_TYPE = \"VIDEO\";\n  get type() {\n    return \"video\";\n  }\n  fullscreen;\n  pictureInPicture;\n  constructor(video, context) {\n    super(video);\n    if (canUseVideoPresentation(video)) {\n      const presentation = new VideoPresentation(video, context);\n      this.fullscreen = new FullscreenPresentationAdapter(presentation);\n      this.pictureInPicture = new PIPPresentationAdapter(presentation);\n    } else if (canUsePictureInPicture(video)) {\n      this.pictureInPicture = new VideoPictureInPicture(video, context);\n    }\n  }\n  setup(context) {\n    super.setup(context);\n    if (canPlayHLSNatively(this.video)) {\n      new NativeHLSTextTracks(this.video, context);\n    }\n    context.textRenderers[ATTACH_VIDEO](this.video);\n    onDispose(() => {\n      context.textRenderers[ATTACH_VIDEO](null);\n    });\n    if (this.type === \"video\") context.delegate._dispatch(\"provider-setup\", {\n      detail: this\n    });\n  }\n  /**\n   * The native HTML `<video>` element.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement}\n   */\n  get video() {\n    return this._media;\n  }\n}\nexport { VideoProvider };","map":{"version":3,"names":["onDispose","a0","canUseVideoPresentation","$","canUsePictureInPicture","Y","canPlayHLSNatively","a1","ATTACH_VIDEO","H","HTMLMediaProvider","N","NativeHLSTextTracks","V","VideoPictureInPicture","VideoPresentation","F","FullscreenPresentationAdapter","P","PIPPresentationAdapter","VideoProvider","$$PROVIDER_TYPE","type","fullscreen","pictureInPicture","constructor","video","context","presentation","setup","textRenderers","delegate","_dispatch","detail","_media"],"sources":["/Users/user/Documents/mobilestreamapp/client/node_modules/vidstack/dist/dev/providers/video/provider.js"],"sourcesContent":["import { onDispose } from 'maverick.js';\nimport { a0 as canUseVideoPresentation, $ as canUsePictureInPicture, Y as canPlayHLSNatively, a1 as ATTACH_VIDEO } from '../../media-core.js';\nimport { H as HTMLMediaProvider } from '../html/provider.js';\nimport { N as NativeHLSTextTracks } from './native-hls-text-tracks.js';\nimport { V as VideoPictureInPicture } from './picture-in-picture.js';\nimport { V as VideoPresentation, F as FullscreenPresentationAdapter, P as PIPPresentationAdapter } from './presentation/video-presentation.js';\nimport 'maverick.js/element';\nimport 'maverick.js/std';\nimport '../type-check.js';\nimport '../audio/loader.js';\nimport 'maverick.js/dom';\nimport '../hls/loader.js';\nimport './loader.js';\nimport '../html/html–media-events.js';\nimport '../hls/hls.js';\nimport '../../media-ui.js';\nimport '../../icons/icon.js';\nimport 'media-captions';\nimport '../html/native-audio-tracks.js';\n\nclass VideoProvider extends HTMLMediaProvider {\n  $$PROVIDER_TYPE = \"VIDEO\";\n  get type() {\n    return \"video\";\n  }\n  fullscreen;\n  pictureInPicture;\n  constructor(video, context) {\n    super(video);\n    if (canUseVideoPresentation(video)) {\n      const presentation = new VideoPresentation(video, context);\n      this.fullscreen = new FullscreenPresentationAdapter(presentation);\n      this.pictureInPicture = new PIPPresentationAdapter(presentation);\n    } else if (canUsePictureInPicture(video)) {\n      this.pictureInPicture = new VideoPictureInPicture(video, context);\n    }\n  }\n  setup(context) {\n    super.setup(context);\n    if (canPlayHLSNatively(this.video)) {\n      new NativeHLSTextTracks(this.video, context);\n    }\n    context.textRenderers[ATTACH_VIDEO](this.video);\n    onDispose(() => {\n      context.textRenderers[ATTACH_VIDEO](null);\n    });\n    if (this.type === \"video\")\n      context.delegate._dispatch(\"provider-setup\", { detail: this });\n  }\n  /**\n   * The native HTML `<video>` element.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLVideoElement}\n   */\n  get video() {\n    return this._media;\n  }\n}\n\nexport { VideoProvider };\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,aAAa;AACvC,SAASC,EAAE,IAAIC,uBAAuB,EAAEC,CAAC,IAAIC,sBAAsB,EAAEC,CAAC,IAAIC,kBAAkB,EAAEC,EAAE,IAAIC,YAAY,QAAQ,qBAAqB;AAC7I,SAASC,CAAC,IAAIC,iBAAiB,QAAQ,qBAAqB;AAC5D,SAASC,CAAC,IAAIC,mBAAmB,QAAQ,6BAA6B;AACtE,SAASC,CAAC,IAAIC,qBAAqB,QAAQ,yBAAyB;AACpE,SAASD,CAAC,IAAIE,iBAAiB,EAAEC,CAAC,IAAIC,6BAA6B,EAAEC,CAAC,IAAIC,sBAAsB,QAAQ,sCAAsC;AAC9I,OAAO,qBAAqB;AAC5B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,oBAAoB;AAC3B,OAAO,iBAAiB;AACxB,OAAO,kBAAkB;AACzB,OAAO,aAAa;AACpB,OAAO,8BAA8B;AACrC,OAAO,eAAe;AACtB,OAAO,mBAAmB;AAC1B,OAAO,qBAAqB;AAC5B,OAAO,gBAAgB;AACvB,OAAO,gCAAgC;AAEvC,MAAMC,aAAa,SAASV,iBAAiB,CAAC;EAC5CW,eAAe,GAAG,OAAO;EACzB,IAAIC,IAAIA,CAAA,EAAG;IACT,OAAO,OAAO;EAChB;EACAC,UAAU;EACVC,gBAAgB;EAChBC,WAAWA,CAACC,KAAK,EAAEC,OAAO,EAAE;IAC1B,KAAK,CAACD,KAAK,CAAC;IACZ,IAAIxB,uBAAuB,CAACwB,KAAK,CAAC,EAAE;MAClC,MAAME,YAAY,GAAG,IAAIb,iBAAiB,CAACW,KAAK,EAAEC,OAAO,CAAC;MAC1D,IAAI,CAACJ,UAAU,GAAG,IAAIN,6BAA6B,CAACW,YAAY,CAAC;MACjE,IAAI,CAACJ,gBAAgB,GAAG,IAAIL,sBAAsB,CAACS,YAAY,CAAC;IAClE,CAAC,MAAM,IAAIxB,sBAAsB,CAACsB,KAAK,CAAC,EAAE;MACxC,IAAI,CAACF,gBAAgB,GAAG,IAAIV,qBAAqB,CAACY,KAAK,EAAEC,OAAO,CAAC;IACnE;EACF;EACAE,KAAKA,CAACF,OAAO,EAAE;IACb,KAAK,CAACE,KAAK,CAACF,OAAO,CAAC;IACpB,IAAIrB,kBAAkB,CAAC,IAAI,CAACoB,KAAK,CAAC,EAAE;MAClC,IAAId,mBAAmB,CAAC,IAAI,CAACc,KAAK,EAAEC,OAAO,CAAC;IAC9C;IACAA,OAAO,CAACG,aAAa,CAACtB,YAAY,CAAC,CAAC,IAAI,CAACkB,KAAK,CAAC;IAC/C1B,SAAS,CAAC,MAAM;MACd2B,OAAO,CAACG,aAAa,CAACtB,YAAY,CAAC,CAAC,IAAI,CAAC;IAC3C,CAAC,CAAC;IACF,IAAI,IAAI,CAACc,IAAI,KAAK,OAAO,EACvBK,OAAO,CAACI,QAAQ,CAACC,SAAS,CAAC,gBAAgB,EAAE;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;EAClE;EACA;AACF;AACA;AACA;AACA;EACE,IAAIP,KAAKA,CAAA,EAAG;IACV,OAAO,IAAI,CAACQ,MAAM;EACpB;AACF;AAEA,SAASd,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}